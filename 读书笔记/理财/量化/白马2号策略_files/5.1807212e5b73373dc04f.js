(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{1061:function(t,e,n){"use strict";n.r(e),n.d(e,"focusLastBlank",(function(){return b}));var o=n(1),r=n(2),c=n(3);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=s(t);if(e){var r=s(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return f(this,n)}}function f(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const p=[o.m.MouseDown,o.m.Click],d=[r.a.HR,r.a.Code,r.a.Image,r.a.Handwriting,r.a.Attachment,r.a.Layout];let y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)}(s,t);var e,n,c,f=l(s);function s(){var t;return i(this,s),(t=f.apply(this,arguments)).name="focus-last-blank-plugin",t.priority=o.s,t.onEvent=function(e,n){var r;if(!t.checkValid(n))return;const c=!v(n.target),i=null===(r=o.Q.getDocument())||void 0===r?void 0:r.nodes;if(c&&i){const t=i[i.length-1];if(null!=t&&t.name&&d.includes(t.name)){var u,a;o.Q.insertNode(Object(o.K)(),null===(u=o.Q.getDocument())||void 0===u?void 0:u.id,i.length);const t=null===(a=o.Q.getDocument())||void 0===a?void 0:a.getLastText();if(t){const e=o.z.fromJSON({nodeId:t.id,offset:0}),n=o.c.fromJSON({anchor:e,focus:e});o.Q.setBulbSelectionFromRange(n)}n.preventDefault()}}return e},t}return e=s,(n=[{key:"checkValid",value:function(t){var e,n;return!!p.includes(t.type)&&(null===(e=document.querySelector("."+r.r))||void 0===e?void 0:e.contains(t.target))&&!(null!==(n=document.querySelector(".title-widget"))&&void 0!==n&&n.contains(t.target))}}])&&u(e.prototype,n),c&&u(e,c),Object.defineProperty(e,"prototype",{writable:!1}),s}(o.y);const v=function(t){if(!t)return null;t.nodeType===Node.TEXT_NODE&&(t=t.parentElement);const e=t.closest("*["+o.g+"]");return null==e?void 0:e.getAttribute(o.g)},b={name:c.h.FocusLastBlank,lazy:!0,plugins:[y]}}}]);