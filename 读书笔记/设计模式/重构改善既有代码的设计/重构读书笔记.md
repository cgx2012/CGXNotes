# 第一章 一个重构的例子
* 重构需要依赖于测试，先建立测试环境，以及可测试标准，保证功能
* 拆分方法
* 绝大多数情况下，函数应该在它所使用的数据所属的对象内
* 减少临时变量，用查询方法替换临时变量
* 最好不要在另一个对象的属性基础上运用switch语句，如果不得不使用，也应该在对象自己的数据上使用
* 解决switch语句的方法，state模式，继承多态，将分支部分用多态描述

# 第二章 重构原则
* 两顶帽子
	* 添加新功能 不应该修改已有代码，只添加功能
	* 重构 不应该添加功能，只修改程序结构

# 第三章 代码的坏味道
* duplicated code 重复代码
* long method 过长函数
* large class 过大的类
* long parmater list 过长参数列表
* divergent change 发散式变化（一个类受多种变化影响）
* shotgun surgery 散弹式修改 （一个变化影响多个类）
* feature envy 依恋情节 （方法依恋其他类的属性过多）
* data clumps 数据泥团 (不同的类中有相同字段，不同函数的方法签名相同，将相同的部分提炼到一个新对象)
* primitive obsession 基本类型偏执                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
* switch statements (switch 表达式)
* parallel inheritance hierarchies 平行继承体系 (为某个类增加子类，必须为另一个类增加相应子类)
* lazy class 冗余类
* speculative generality 夸夸其谈未来性
* Temporary field 令人迷惑的暂时字段 
* message chains 过度耦合的消息链 
* middle man 中间人
* inappropriate intimacy 押昵关系 （一个类需要过多的依赖父类或其他类的私有方法的实现）
* alternative class with different interfaces 异曲同工的类 （两个函数做同一件事，却有不同的签名）
* Incomplete library class 不完美的库类
* data class 纯稚的数据类 
* refused beruest 被拒绝的遗赠 （子类继承父类用不到的方法）
* comments 过多注释

# 第四章 构筑测试体系
只需测试多数可能出错的情况，没必要测试所有情况

# 第五章 重构列表
* 适用范围：单进程软件

# 第六章 重新组织函数
* extract method (提炼函数)
 * 过长函数需要注释 
* Inline method (内联函数) 
 * 内部代码和名称一样清晰易读,直接在调用处是使用函数内容
* inline temp (内联临时变量) 
 * 影响到其他重构，用表达式直接替换临时变量的使用
* replace temp with query (以查询取代临时变量)
* Introduce explaining variable (引入解释性变量)
	* 用临时变量命名来解释复杂表达式  
* split temporary variable (分解临时变量)
	* 临时变量被赋于不同意义的值
* remove assignments to param eters(移除参数的赋值)
* replace method with method object (以函数对象取代函数)
* Substitute Algorithm (替换算法)

# 第7章 在对象之间搬移特性
* Move Method (搬移函数)
	* 如果一个类有太多行为，或如果一个类与另一个类有太多合作而形成高度耦合
	* 搬移函数之后目标函数获取源函数特性的方法：
		* 将这个特性也移到目标类
		* 建立或使用一个从目标类到源类的引用
		* 将源对象当做参数传给目标函数
		* 如果所需特性是变量，将他当做参数传给目标函数
* Move field (搬移字段)
* Extract Class (提炼类)
 * 某个类做了应该由两个类做的事
* Inline Class (类内联)
 * 某个类没有做太多的事情，将类的所有特性搬移到另一个类中，移除原类
* Hide Delegate (隐藏委托)
	* 客户通过委托类来调用另一个对象，在服务类上建立客户所需的函数，用以隐藏委托关系
* Remove Middle Man (移除中间人)
	* 某个类做了过多的简单委托动作
	* 让客户直接调用受托类
* Introduce Foreign Method (引入外加函数)
	* 你需要为提供服务的类增加一个函数，但你无法修改这个类
	* 在客户端中建立一个函数，并以第一参数形式传入一个服务类实例
* Introduce Local Extension (引入本地扩展)
	* 你需要为提供服务的类增加一个函数，但你无法修改这个类
	* 建立一个新类，包含需要添加的函数，使新类成为原类的子类或包装类
	
# 第8章 重新组织数据
* self encapsulate field (自封装字段)
* Replace Data Value with Object (以对象取代数据值)
* change value to reference (将值对象改为引用对象)
* change reference to value (将引用对象改为值对象)
* replace array with object (以对象取代数组) 数组中的元素应该尽量是相似的东西
* Duplicate Observed Data (复制“被监视数据”) 数据居于视图中，将视图中的数据复制到controller中，用监听同步数据
* Change Unidirectional Associaltion to Bidirectional (将单向关联改为双向关联)
* Change Bidirectional Associaltion To Unidirectional (将双向关联改为单向关)
* Replace Magic Number with Symbolic Constant(以字面常量取代魔法数)


